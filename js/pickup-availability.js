customElements.get("pickup-availability")||customElements.define("pickup-availability",class extends HTMLElement{constructor(){if(super(),!this.hasAttribute("available"))return;const variantId=this.dataset.variantId;this.fetchAvailability(variantId)}fetchAvailability(variantId){let rootUrl=this.dataset.rootUrl;rootUrl.endsWith("/")||(rootUrl=rootUrl+"/");const variantSectionUrl=`${rootUrl}variants/${variantId}/?section_id=pickup-availability`;fetch(variantSectionUrl).then(response=>{if(!response.ok)throw new Error(`Network response was not ok: ${response.statusText}`);return response.text()}).then(text=>{const dom=new DOMParser().parseFromString(text,"text/html").querySelector(".shopify-section");this.renderPreview(dom)}).catch(e=>{this.renderError()})}renderPreview(resourceDom){if(!resourceDom.querySelector(".pickup-availability-preview"))return this.renderError();const pickupDrawer=document.getElementById("Pickup-Availability-Drawer");pickupDrawer?pickupDrawer.querySelector(".drawer-content").innerHTML=resourceDom.querySelector("#Pickup-Availability-Drawer .drawer-content").innerHTML:document.body.appendChild(resourceDom.querySelector("#Pickup-Availability-Drawer")),this.innerHTML=resourceDom.querySelector(".pickup-availability-preview").outerHTML,this.setAttribute("available","")}renderError(){this.innerHTML="",this.removeAttribute("available")}});
//# sourceMappingURL=/cdn/shop/t/2/assets/pickup-availability.js.map?v=33908633789894596691730604923
